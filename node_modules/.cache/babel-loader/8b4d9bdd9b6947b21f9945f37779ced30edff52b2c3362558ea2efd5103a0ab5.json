{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import'./BlogList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BlogList=()=>{const[blogs,setBlogs]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const fetchBlogs=async()=>{try{const response=await axios.get('http://localhost:5000/api/blog/');setBlogs(response.data);}catch(error){console.error('Error fetching blogs:',error);setError('Failed to fetch blogs');}};fetchBlogs();},[]);if(error){return/*#__PURE__*/_jsx(\"p\",{children:error});}const truncateContent=(content,maxLength)=>{if(content.length>maxLength){return content.substring(0,maxLength)+'...';// Truncate and add ellipsis\n}return content;// Return full content if it's shorter than maxLength\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Blog Posts\"}),/*#__PURE__*/_jsx(\"ul\",{children:blogs.map(blog=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:blog.title}),/*#__PURE__*/_jsx(\"p\",{children:truncateContent(blog.content,100)}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Author:\"}),\" \",blog.author]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"em\",{children:\"Date:\"}),\" \",new Date(blog.date).toLocaleDateString()]}),/*#__PURE__*/_jsx(Link,{to:`/blog/${blog._id}`,className:\"read-more\",children:\"Read More\"}),\" \"]},blog._id))})]});};export default BlogList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","BlogList","blogs","setBlogs","error","setError","fetchBlogs","response","get","data","console","children","truncateContent","content","maxLength","length","substring","className","map","blog","title","author","Date","date","toLocaleDateString","to","_id"],"sources":["D:/website/mywebsite/src/pages/Blog/BlogList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport './BlogList.css';\r\n\r\nconst BlogList = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/blog/');\r\n        setBlogs(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching blogs:', error);\r\n        setError('Failed to fetch blogs');\r\n      }\r\n    };\r\n\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  if (error) {\r\n    return <p>{error}</p>;\r\n  }\r\n\r\n  const truncateContent = (content, maxLength) => {\r\n    if (content.length > maxLength) {\r\n      return content.substring(0, maxLength) + '...'; // Truncate and add ellipsis\r\n    }\r\n    return content; // Return full content if it's shorter than maxLength\r\n  };\r\n\r\n  return (\r\n    <div className=\"blog-list\">\r\n      <h1>Blog Posts</h1>\r\n      <ul>\r\n        {blogs.map(blog => (\r\n          <li key={blog._id}>\r\n            <h2>{blog.title}</h2>\r\n            <p>{truncateContent(blog.content, 100)}</p> {/* Show truncated content */}\r\n            <p><strong>Author:</strong> {blog.author}</p>\r\n            <p><em>Date:</em> {new Date(blog.date).toLocaleDateString()}</p>\r\n            <Link to={`/blog/${blog._id}`} className='read-more'>Read More</Link> {/* Link to BlogDetail */}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogList;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExB,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,iCAAiC,CAAC,CACnEL,QAAQ,CAACI,QAAQ,CAACE,IAAI,CAAC,CACzB,CAAE,MAAOL,KAAK,CAAE,CACdM,OAAO,CAACN,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CC,QAAQ,CAAC,uBAAuB,CAAC,CACnC,CACF,CAAC,CAEDC,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,KAAK,CAAE,CACT,mBAAON,IAAA,MAAAa,QAAA,CAAIP,KAAK,CAAI,CAAC,CACvB,CAEA,KAAM,CAAAQ,eAAe,CAAGA,CAACC,OAAO,CAAEC,SAAS,GAAK,CAC9C,GAAID,OAAO,CAACE,MAAM,CAAGD,SAAS,CAAE,CAC9B,MAAO,CAAAD,OAAO,CAACG,SAAS,CAAC,CAAC,CAAEF,SAAS,CAAC,CAAG,KAAK,CAAE;AAClD,CACA,MAAO,CAAAD,OAAO,CAAE;AAClB,CAAC,CAED,mBACEb,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAN,QAAA,eACxBb,IAAA,OAAAa,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBb,IAAA,OAAAa,QAAA,CACGT,KAAK,CAACgB,GAAG,CAACC,IAAI,eACbnB,KAAA,OAAAW,QAAA,eACEb,IAAA,OAAAa,QAAA,CAAKQ,IAAI,CAACC,KAAK,CAAK,CAAC,cACrBtB,IAAA,MAAAa,QAAA,CAAIC,eAAe,CAACO,IAAI,CAACN,OAAO,CAAE,GAAG,CAAC,CAAI,CAAC,IAAC,cAC5Cb,KAAA,MAAAW,QAAA,eAAGb,IAAA,WAAAa,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAACQ,IAAI,CAACE,MAAM,EAAI,CAAC,cAC7CrB,KAAA,MAAAW,QAAA,eAAGb,IAAA,OAAAa,QAAA,CAAI,OAAK,CAAI,CAAC,IAAC,CAAC,GAAI,CAAAW,IAAI,CAACH,IAAI,CAACI,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAI,CAAC,cAChE1B,IAAA,CAACF,IAAI,EAAC6B,EAAE,CAAE,SAASN,IAAI,CAACO,GAAG,EAAG,CAACT,SAAS,CAAC,WAAW,CAAAN,QAAA,CAAC,WAAS,CAAM,CAAC,IAAC,GAL/DQ,IAAI,CAACO,GAMV,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}